<!doctype html>
<html lang="ru">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>Главная | Туроператор "Золотая Середина"</title>
        <link rel="stylesheet" href="static/styles.css" />
        <link
            href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
            rel="stylesheet"
        />
    </head>
    <body>
        <header>
            <img src="static/logo.png" alt="Логотип" />
            <h1>Туроператор "Золотая Середина"</h1>
        </header>

        <div class="nav-container">
            <!-- Навигация -->
            <nav>
                <a href="test.html">Главная</a>
                <a href="pages/product.html">Услуги</a>
                <a href="pages/uslugi.html">Контакты</a>
                <a href="pages/about.html">О нас</a>
            </nav>

            <!-- Кнопки Вход и Регистрация -->
            {{if .User}}
            <div class="user-greeting">
                <span class="greeting-text"
                    >Привет, <strong>{{ .User }}</strong></span
                >
                <button
                    class="logout-button"
                    onclick="window.location.href='/logout'"
                >
                    Выйти
                </button>
            </div>
            {{else}}
            <!-- Кнопки Вход и Регистрация -->
            <div class="btn-container">
                <button
                    type="button"
                    class="btn btn-primary"
                    data-bs-toggle="modal"
                    data-bs-target="#loginModal"
                >
                    Вход
                </button>
                <button
                    type="button"
                    class="btn btn-success"
                    data-bs-toggle="modal"
                    data-bs-target="#registerModal"
                >
                    Регистрация
                </button>
            </div>

            <!-- form action="/login" method="post">
                    <input type="text" id="username" name="username" required placeholder="Логин">
                    <input type="password" id="password" name="password" required placeholder="Пароль">
                    <div class="buttonslogin">
                        <button type="submit">Войти</button>
                        <button type="button" onclick="window.location.href='/reg';">Регистрация</button>
                    </div>
                </form -->
            {{end}}
        </div>

        <div class="container">
            <!-- Боковое меню -->
            <aside class="sidebar">
                <h3>Главная</h3>
                <a href="pages/petersburg.html">Экскурсия в Нижний Новгород</a>
                <a href="pages/caucasus.html">Что посмотреть в области</a>
                <a href="pages/golden_ring.html">Факты о Дивеево</a>
            </aside>

            <!-- Основной контент -->
            <section class="main-content">
                <div class="slider-container">
                    <div class="slides" id="slides">
                        <div class="slide">
                            <img
                                src="static/maldives.png"
                                alt="Изображение 1"
                            />
                        </div>
                        <div class="slide">
                            <img src="static/dubai.png" alt="Изображение 2" />
                        </div>
                        <div class="slide">
                            <img src="static/alpes.png" alt="Изображение 3" />
                        </div>
                    </div>

                    <!-- Кнопки управления -->
                    <button class="slider-btn prev" onclick="moveSlide(-1)">
                        &#10094;
                    </button>
                    <button class="slider-btn next" onclick="moveSlide(1)">
                        &#10095;
                    </button>
                </div>
                <div class="dots-container" id="dots-container"></div>

                <p>
                    <img
                        src="static/chels.png"
                        align="left"
                        width="150"
                        alt=""
                    />
                </p>
                <p>
                    Туристическая компания "Золотая Середина" осуществляете
                    туроператорскую деятельность c 2004 года. Мы являемся
                    официальным туроператором&nbsp;&nbsp;и внесены в&nbsp;Единый
                    федеральный реестр туроператоров под номером РТО 006197.
                    Деятельность нашей фирмы одобрена Федеральным агентством по
                    туризму РФ и застрахована.
                </p>
                <p>
                    Мы делаем экскурсии из Москвы и 30 городов Подмосковья.
                    Экскурсии проводят профессиональные экскурсоводы. Для
                    программы отбираются только самые интересные
                    достопримечательности.&nbsp;Вы можете выбрать размещение,
                    тип питания, место посадки в автобусе.&nbsp;Сервис и уровень
                    обслуживания на очень высоком уровне!
                </p>

                <table class="facts-table">
                    <tr>
                        <th colspan="2">Ключевые факты</th>
                        <th>Год основания компании</th>
                        <td>2004</td>
                    </tr>
                    <tr>
                        <th colspan="2"></th>
                        <th>Регистрация в реестре туроператоров</th>
                        <td>РТО 006197</td>
                    </tr>
                    <tr>
                        <td colspan="2">Высокий уровень безопасности</td>
                        <td colspan="2">
                            Медицинская страховка и контроль водителей
                        </td>
                    </tr>
                </table>

                <p>
                    <b>История и деятельность компании «Золотая Середина»:</b>
                </p>
                <p><b>Основание:</b></p>
                <ul>
                    <li>Компания была основана в 2004 году.</li>
                    <li>
                        Является официальным туроператором, зарегистрированным в
                        Едином федеральном реестре туроператоров под номером РТО
                        006197.
                    </li>
                </ul>
                <p><b>Основное направление:</b></p>
                <ol>
                    <li type="a">
                        Организация автобусных экскурсий и туров по России.
                    </li>
                    <li type="a">
                        Проведение экскурсий премиум-класса из Москвы и более
                        чем 30 городов Подмосковья.
                    </li>
                </ol>
                <p><b>Транспорт:</b></p>
                <ul>
                    <li>
                        Используются современные автобусы вместимостью 49–57
                        мест, оснащенные:
                        <ul>
                            <li>Откидными сиденьями.</li>
                            <li>Туалетом.</li>
                            <li>Телевизором.</li>
                            <li>Микрофоном.</li>
                            <li>Климат-контролем.</li>
                            <li>Просторными багажными отделениями.</li>
                        </ul>
                    </li>
                </ul>
            </section>

            <aside class="banners">
                <h3>Наши партнёры</h3>
                <a href="https://ostrovok.ru" target="_blank">
                    <img src="static/banner1.png" alt="Островок" />
                </a>
                <a href="https://aeroflot.ru" target="_blank">
                    <img src="static/banner2.png" alt="Аэрофлот" />
                </a>
                <a href="https://tourpom.ru" target="_blank">
                    <img src="static/banner3.png" alt="Турпомощь" />
                </a>
            </aside>
        </div>

        <footer>
            <p>© 2024 Туроператор "Золотая Середина". Все права защищены.</p>
            <p>
                <a href="mailto:zakaz.goldenmiddle@mail.ru"
                    >zakaz.goldenmiddle@mail.ru</a
                >
                | Телефон: <a href="tel:+74952239276">8 (495) 223-92-76</a>
            </p>
        </footer>

        <script>
            let currentIndex = 0; // Текущий индекс слайда
            const slides = document.querySelectorAll(".slide");
            const dotsContainer = document.getElementById("dots-container");

            // Создаём индикаторы
            slides.forEach((_, index) => {
                const dot = document.createElement("div");
                dot.classList.add("dot");
                if (index === 0) dot.classList.add("active");
                dot.addEventListener("click", () => goToSlide(index));
                dotsContainer.appendChild(dot);
            });

            const dots = document.querySelectorAll(".dot");

            // Функция перемещения слайдов
            function moveSlide(step) {
                currentIndex += step;
                if (currentIndex < 0) currentIndex = slides.length - 1; // Зацикливание назад
                if (currentIndex >= slides.length) currentIndex = 0; // Зацикливание вперёд
                updateSlider();
            }

            // Переход к конкретному слайду
            function goToSlide(index) {
                currentIndex = index;
                updateSlider();
            }

            // Обновление слайдера
            function updateSlider() {
                const slideWidth = slides[0].clientWidth;
                const slidesContainer = document.getElementById("slides");
                slidesContainer.style.transform = `translateX(-${currentIndex * slideWidth}px)`;

                // Обновление активного индикатора
                dots.forEach((dot, index) => {
                    dot.classList.toggle("active", index === currentIndex);
                });
            }
        </script>
    </body>

    <div
        class="modal fade"
        id="loginModal"
        tabindex="-1"
        aria-labelledby="loginModalLabel"
        aria-hidden="true"
    >
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="loginModalLabel">Вход</h5>
                    <button
                        type="button"
                        class="btn-close"
                        data-bs-dismiss="modal"
                        aria-label="Close"
                    ></button>
                </div>

                <div class="modal-body">
                    <form action="/login" method="post">
                        <div class="mb-3">
                            <label for="username" class="form-label"
                                >Логин</label
                            >
                            <input
                                type="text"
                                class="form-control"
                                id="username"
                                name="username"
                                placeholder="Введите ваш логин"
                            />
                        </div>
                        <div class="mb-3">
                            <label for="password" class="form-label"
                                >Пароль</label
                            >
                            <input
                                type="password"
                                class="form-control"
                                id="password"
                                name="password"
                                placeholder="Введите ваш пароль"
                            />
                        </div>
                        <button type="submit" class="btn btn-primary w-100">
                            Войти
                        </button>
                    </form>
                </div>
            </div>
        </div>
    </div>

    <!-- Модальное окно Регистрация -->
    <div
        class="modal fade"
        id="registerModal"
        tabindex="-1"
        aria-labelledby="registerModalLabel"
        aria-hidden="true"
    >
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="registerModalLabel">
                        Регистрация
                    </h5>
                    <button
                        type="button"
                        class="btn-close"
                        data-bs-dismiss="modal"
                        aria-label="Close"
                    ></button>
                </div>
                <div class="modal-body">
                    <form action="/reg" method="post">
                        <div class="mb-3">
                            <label for="login" class="form-label">Логин</label>
                            <input
                                type="text"
                                class="form-control"
                                id="login"
                                name="login"
                                placeholder="Введите ваш логин"
                            />
                        </div>
                        <div class="mb-3">
                            <label for="email" class="form-label">Email</label>
                            <input
                                type="email"
                                class="form-control"
                                id="email"
                                name="email"
                                placeholder="Введите ваш email"
                            />
                        </div>
                        <div class="mb-3">
                            <label for="password" class="form-label"
                                >Пароль</label
                            >
                            <input
                                type="password"
                                class="form-control"
                                id="password"
                                name="password"
                                placeholder="Придумайте пароль"
                            />
                        </div>
                        <button type="submit" class="btn btn-success w-100">
                            Зарегистрироваться
                        </button>
                    </form>
                </div>
            </div>
        </div>
    </div>

    <div
        class="modal fade"
        id="cartModal"
        tabindex="-1"
        aria-labelledby="cartModalLabel"
        aria-hidden="true"
    >
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="cartModalLabel">Корзина</h5>
                    <button
                        type="button"
                        class="btn-close"
                        data-bs-dismiss="modal"
                        aria-label="Close"
                    ></button>
                </div>

                <div class="modal-body">
                    <div id="cartItems"></div>
                    <div class="cart-summary">
                        <div>
                            <label>Суммарная стоимость:</label>
                            <span id="totalCost">0.00 ₽</span>
                        </div>
                        <div>
                            <label>Скидка:</label>
                            <span id="discount">0.00 ₽</span>
                        </div>
                        <div>
                            <label>Итоговая стоимость:</label>
                            <span id="finalCost">0.00 ₽</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
    <script src="../static/cart.js"></script>
</html>
